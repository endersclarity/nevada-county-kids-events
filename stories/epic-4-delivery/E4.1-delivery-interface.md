# E4.1: Delivery Interface Design

**Epic:** E4 - Delivery Layer
**Story ID:** E4.1
**Story Points:** 2
**Priority:** P1 (High)
**Type:** Infrastructure
**Status:** ⏸️ Blocked

---

## User Story

**As a** developer
**I want to** create an abstract delivery interface
**So that** adding new delivery methods is consistent

---

## Acceptance Criteria

- [ ] Implement `src/delivery/base.py` with `BaseDelivery` abstract class
- [ ] Define interface methods:
  - `deliver(events_list, **options) -> DeliveryResult`
  - `validate_config() -> bool` (check credentials/settings)
  - `format_events(events_list) -> formatted_output`
- [ ] Define `DeliveryResult` dataclass (success, message, metadata)
- [ ] Document interface contract in docstrings
- [ ] Create example implementation for testing

---

## Interface Contract

```python
from abc import ABC, abstractmethod

class BaseDelivery(ABC):
    @abstractmethod
    def deliver(self, events: List[dict], **options) -> DeliveryResult:
        """Send events via this delivery method"""
        pass

    @abstractmethod
    def validate_config(self) -> bool:
        """Check if delivery method is properly configured"""
        pass
```

---

## Dependencies

**Depends on:** E2.6 (Orchestrator)
**Blocks:** E4.2 (Email), E4.3 (Telegram), E4.4 (GCal)

---

## Definition of Done

- [ ] Abstract base class implemented
- [ ] Interface methods defined
- [ ] DeliveryResult dataclass created
- [ ] Documentation complete
- [ ] Example implementation for testing

---

## Technical Notes

This is a foundational pattern story. All delivery methods (E4.2-E4.4) will inherit from this base class, ensuring consistency.

---

**Created:** 2025-10-07
**Last Updated:** 2025-10-07
