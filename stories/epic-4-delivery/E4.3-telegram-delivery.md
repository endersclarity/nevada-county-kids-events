# E4.3: Telegram Delivery

**Epic:** E4 - Delivery Layer
**Story ID:** E4.3
**Story Points:** 5
**Priority:** P1 (High)
**Type:** Feature
**Status:** â¸ï¸ Blocked

---

## User Story

**As a** user
**I want to** receive events via Telegram
**So that** I can read them on mobile

---

## Acceptance Criteria

- [ ] Implement `src/delivery/telegram.py` with `TelegramDelivery` class
- [ ] Install `python-telegram-bot` library
- [ ] Create Telegram bot via @BotFather (get token)
- [ ] Format events as Telegram messages (Markdown formatting)
- [ ] Handle message length limits (split into multiple messages if needed)
- [ ] Send to configured chat ID (from `.env`)
- [ ] Handle API errors (invalid token, blocked bot, etc.)
- [ ] Return `DeliveryResult` with success status
- [ ] Test with real Telegram account

---

## Environment Variables

```
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=987654321
```

---

## Dependencies

**Depends on:** E4.1 (Delivery Interface)
**Blocks:** E4.5 (Delivery Router)

---

## Definition of Done

- [ ] Telegram bot created
- [ ] Messages sent successfully
- [ ] Markdown formatting works
- [ ] Long messages split correctly
- [ ] Test messages received on Telegram
- [ ] validate_config() checks token/chat_id

---

## Technical Notes

**Setup Steps:**
1. Message @BotFather on Telegram
2. /newbot command
3. Follow prompts to get bot token
4. Get chat_id by messaging bot and calling getUpdates API

Add to requirements.txt:
```
python-telegram-bot>=20.7
```

---

**Created:** 2025-10-07
**Last Updated:** 2025-10-07
