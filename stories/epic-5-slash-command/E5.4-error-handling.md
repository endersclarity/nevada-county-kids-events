# E5.4: Error Handling & User Feedback

**Epic:** E5 - Slash Command Interface
**Story ID:** E5.4
**Story Points:** 3
**Priority:** P0 (Critical)
**Type:** Feature
**Status:** ⏸️ Blocked

---

## User Story

**As a** user
**I want to** understand what went wrong if command fails
**So that** I can fix issues or retry

---

## Acceptance Criteria

- [ ] Catch all exception types at orchestrator level
- [ ] Classify errors:
  - **User Error:** Invalid arguments, bad configuration
  - **Scraper Error:** Source unreachable, parse failure
  - **Delivery Error:** SMTP auth failure, API quota
  - **System Error:** Database connection, unexpected exceptions
- [ ] Provide user-friendly error messages with actionable guidance
- [ ] Log technical details for debugging (stack traces)
- [ ] Graceful degradation: Show partial results if some sources fail
- [ ] Suggest fixes (e.g., "Check SMTP credentials in .env")

---

## Error Examples

```
❌ Source 'knco' failed: Connection timeout
   → Showing events from other sources (library, county)

❌ Email delivery failed: Invalid SMTP credentials
   → Check EMAIL_PASSWORD in .env file

❌ No events found for next 7 days
   → Try expanding date range (--days 14)
```

---

## Dependencies

**Depends on:** E5.2 (Command Orchestration)
**Blocks:** E5.5 (Documentation)

---

## Definition of Done

- [ ] All error types caught
- [ ] User-friendly messages shown
- [ ] Technical details logged (not shown to user)
- [ ] Graceful degradation works
- [ ] Actionable suggestions provided
- [ ] Unit tests for error scenarios

---

## Technical Notes

Error handling philosophy: **Fail gracefully, inform clearly**

Never show stack traces to users. Always log them for debugging.

---

**Created:** 2025-10-07
**Last Updated:** 2025-10-07
